{"version":3,"sources":["..\\..\\..\\..\\assets\\scripts/assets\\scripts\\rank.js"],"names":["cc","Class","extends","Component","properties","onLoad","FBInstant","getLeaderboardAsync","then","leaderboard","getConnectedPlayerEntriesAsync","i","entries","length","rnode","node","getChildByName","ranknode","namenode","scorenode","ranklabel","getComponent","Label","namelabel","scorelabel","string","getRank","getPlayer","getName","getScore","catch","console","error","start"],"mappings":";;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAfQ,KAHP;;AAqBL;;AAEAC,UAvBK,oBAuBK;AAAA;;AACNC,kBAAWC,mBAAX,CAA+B,eAA/B,EAAgDC,IAAhD,CAAqD;AAAA,mBAAeC,YAAYC,8BAAZ,CAA2C,CAA3C,EAA6C,CAA7C,CAAf;AAAA,SAArD,EAAqHF,IAArH,CAA0H,mBAAW;AACjI,iBAAK,IAAIG,IAAI,CAAb,EAAgBA,IAAIC,QAAQC,MAA5B,EAAoCF,GAApC,EAAyC;AACrC,oBAAIG,QAAQ,MAAKC,IAAL,CAAUC,cAAV,CAAyB,aAAaL,IAAI,CAAjB,CAAzB,CAAZ;AACA,oBAAIM,WAAWH,MAAME,cAAN,CAAqB,WAArB,CAAf;AACA,oBAAIE,WAAWJ,MAAME,cAAN,CAAqB,WAArB,CAAf;AACA,oBAAIG,YAAYL,MAAME,cAAN,CAAqB,YAArB,CAAhB;AACA,oBAAII,YAAYH,SAASI,YAAT,CAAsBrB,GAAGsB,KAAzB,CAAhB;AACA,oBAAIC,YAAYL,SAASG,YAAT,CAAsBrB,GAAGsB,KAAzB,CAAhB;AACA,oBAAIE,aAAaL,UAAUE,YAAV,CAAuBrB,GAAGsB,KAA1B,CAAjB;AACAF,0BAAUK,MAAV,GAAmBb,QAAQD,CAAR,EAAWe,OAAX,EAAnB;AACAH,0BAAUE,MAAV,GAAmBb,QAAQD,CAAR,EAAWgB,SAAX,GAAuBC,OAAvB,EAAnB;AACAJ,2BAAWC,MAAX,GAAoBb,QAAQD,CAAR,EAAWkB,QAAX,EAApB;AACH;AACJ,SAbD,EAaGC,KAbH,CAaS;AAAA,mBAASC,QAAQC,KAAR,CAAcA,KAAd,CAAT;AAAA,SAbT;AAcH,KAtCI;AAwCLC,SAxCK,mBAwCI,CAER;AA1CI;;AA4CL;AA5CJ","file":"rank.js","sourceRoot":"..\\..\\..\\..\\assets\\scripts","sourcesContent":["// Learn cc.Class:\r\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/class.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/class.html\r\n// Learn Attribute:\r\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/life-cycle-callbacks.html\r\n\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        // foo: {\r\n        //     // ATTRIBUTES:\r\n        //     default: null,        // The default value will be used only when the component attaching\r\n        //                           // to a node for the first time\r\n        //     type: cc.SpriteFrame, // optional, default is typeof default\r\n        //     serializable: true,   // optional, default is true\r\n        // },\r\n        // bar: {\r\n        //     get () {\r\n        //         return this._bar;\r\n        //     },\r\n        //     set (value) {\r\n        //         this._bar = value;\r\n        //     }\r\n        // },\r\n    },\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    onLoad () {\r\n        FBInstant .getLeaderboardAsync('eliminateRank').then(leaderboard => leaderboard.getConnectedPlayerEntriesAsync(5,0)).then(entries => {\r\n            for (var i = 0; i < entries.length; i++) {\r\n                var rnode = this.node.getChildByName('RankBG_' + (i + 1));\r\n                var ranknode = rnode.getChildByName('rankLabel');\r\n                var namenode = rnode.getChildByName('nameLabel');\r\n                var scorenode = rnode.getChildByName('scoreLabel');\r\n                var ranklabel = ranknode.getComponent(cc.Label);\r\n                var namelabel = namenode.getComponent(cc.Label);\r\n                var scorelabel = scorenode.getComponent(cc.Label);\r\n                ranklabel.string = entries[i].getRank();\r\n                namelabel.string = entries[i].getPlayer().getName();\r\n                scorelabel.string = entries[i].getScore();\r\n            }\r\n        }).catch(error => console.error(error));\r\n    },\r\n\r\n    start () {\r\n\r\n    },\r\n\r\n    // update (dt) {},\r\n});\r\n"]}